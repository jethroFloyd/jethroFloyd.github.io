"use strict";var HUGE;HUGE=function(){function n(n,t){dataLayer.push({event:t,videoDetails:{id:n.id,duration:n.duration}})}function k(n){dataLayer.push({event:n})}function d(){var r,e,i,n;if(t){for($("body").addClass("touch-device"),n=0;n<u.length;n++)navigator.userAgent.indexOf(u[n])>-1&&$("body").addClass(u[n]);i=function(){var t=$("meta[name=viewport]"),n;switch(window.orientation){case-90:case 90:n="device-width";break;default:n=640}t.attr("content",t.attr("content").replace(/width=[^,]+/,"width="+n)),bt()},r="onorientationchange"in window,e=r?"orientationchange":"resize",window.addEventListener(e,function(){i()},!1),i(),$(window).width()<656&&$("h1").fitText(1.2,{minFontSize:"60px",maxFontSize:"96px"})}f&&($('embed[type="application/x-shockwave-flash"]').parent().hide(),g())}function g(){var n=$("body"),i=$("input, textarea"),t="ios-fixed-fix";i.focus(function(){n.addClass(t)}).blur(function(){n.removeClass(t)}),n.bind("touchmove",function(){i.blur(),$(this).removeClass(t)})}function h(){return window.innerHeight||document.documentElement.offsetHeight||document.documentElement.clientHeight}function nt(){function c(){return r=window.pageYOffset,u=r>o?"down":"up",o=r,u}function f(i){return i?$("body").bind("touchmove",function(n){n.preventDefault()}):($("body").unbind("touchmove"),n.addClass("closing"),clearTimeout(e),e=setTimeout(function(){n.removeClass("closing")},450)),n.toggleClass("open",i),t.attr("tabindex",i?0:-1),setTimeout(function(){$("body").toggleClass("clip",i)},600),!1}function s(){var n=h(),i=n/t.length,r=Math.min(i/2,60);t.css("font-size",r)}var n=$("body > nav"),i=!1,e,t=n.find("li a"),o=0,r,u;t.attr("tabindex",-1),b(s),$("#toggle").click(function(n){n.preventDefault(),s(),f(i=!i)}),$(document).keyup(function(n){n.keyCode===27&&f(!1)});$(".nav-background").on("click",function(){f(i=!1)});$(window).bind("scroll",function(){if(!n.hasClass("open")){var t=c(),i=window.pageYOffset;i>460&&t=="down"?n.addClass("hide-it"):n.removeClass("hide-it"),t=="up"&&i>500?n.addClass("solid"):n.removeClass("solid")}})}function c(n){var t=n||$(".carousel");t.each(function(n,t){function u(){i>e&&(i=0),i<0&&(i=e),$(t).scooch("move",i+1),o()}function o(){f.removeClass("active"),f.eq(i).addClass("active")}function s(){r=setTimeout(function(){i++,u(),s()},4e3)}if(!$(t).hasClass("carousel-activated")){var i=0,f=$(t).find("nav span"),h=$(t).find(".next"),c=$(t).find(".prev"),e=$(t).find(".carousel-wrap > li").length-1,r;$(t).scooch({classPrefix:"",classNames:{active:"active",outer:"carousel",inner:"carousel-wrap"}}).on("afterSlide",function(n,t,r){i=r-1,o()}).addClass("carousel-activated"),f.each(function(n){$(this).click(function(){i=n,clearTimeout(r),u()})}),c.click(function(){i--,clearTimeout(r),u()}),h.click(function(){i++,clearTimeout(r),u()}),$(t).data("autoplay")&&s()}})}function l(n){var t=$(n),i=$("body");$(n).on("touchstart",function(){});t.addClass("engage"),i.addClass("clip"),document.addEventListener("touchmove",a),t.find(".close").click(function(){e(t)});$(document).on("keyup.overlay",function(n){n.keyCode===27&&e(t)})}function e(n){var t=$("body");$(n).removeClass("engage"),t.removeClass("clip"),t.trigger("HUGE.close"),document.removeEventListener("touchmove",a)}function a(n){var t=$(".overlay")[0];n.target===t||$(n.target).parents(".overlay").length||n.preventDefault()}function tt(){$(".share").click(function(n){n.preventDefault();var t=$(this).attr("href"),i=$(this).attr("data-title");$(t).find("h1").html(i),l(t)});var t=575,i=440,r=($(window).width()-t)/2,u=($(window).height()-i)/2,n="status=1,width="+t+",height="+i+",top="+u+",left="+r;$(".facebook").on("click touchend",function(t){t.preventDefault();var i=$(this).attr("href");i||(i=location.href),window.open("https://www.facebook.com/sharer/sharer.php?u="+i,"sharer",n)});$(".twitter").on("click touchend",function(t){t.preventDefault();var i=$(".twitter-link").attr("href");i||(i="https://twitter.com/intent/tweet?url="+location.href),window.open(i,"twitter",n)});$(".gplus").on("click touchend",function(t){t.preventDefault();var i=$(this).attr("href");i||(i=location.href),window.open("http://plus.google.com/share?url="+i,"google",n)});$(".linkedin").on("click touchend",function(t){t.preventDefault();var i=$(this).attr("href");i||(i=location.href),window.open("http://www.linkedin.com/shareArticle?mini=true&url="+location.href+"&source=HUGE","linkedin",n)});$(".pinterest").on("click touchend",function(t){t.preventDefault();var i=$(this).attr("href");i||(i=location.href),window.open("http://tbd/share?url="+i,"pinterest",n)})}function it(){$(".video").each(function(r){try{var e=$(this),p=e.find("video"),u=p[0],w=e.find(".controls"),s=e.find(".play"),h=!1,o=!1,a=t?!1:e.find(".popout"),c=t?!1:$(u).data("teaser"),l=u.currentSrc,b=t?"touchstart":"mousedown";if(u===undefined||!u.canPlayType){s.hide();return}rt(u,l,r),ht(u,w,c),ft(u,a),v(u,e,c,l);s.on("click touchend",function(){ut(u,c,h,e,l),h=!0,u.play(),f||y(u)});u.addEventListener("play",function(){h&&(et(a),f&&y(u),s.hide(),$(".ie-poster").hide(),u.loop=!1,e.removeClass("paused").addClass("playing"),n(u,"play"))}),u.addEventListener("pause",function(){u.removeAttribute("controls"),e.removeClass("playing").addClass("paused"),s.show(),u.ended===undefined||u.ended||n(u,"pause")}),u.addEventListener("ended",function(){ot(a),st(u,h),h=!1,$(".ie-poster").show(),s.show(),n(u,"close"),n(u,"percent: 100%"),v(u,e,c,l)}),u.addEventListener("fullscreenchange",function(){o=i(u,o)},!1),u.addEventListener("mozfullscreenchange",function(){o=i(u,o)},!1),u.addEventListener("webkitfullscreenchange",function(){o=i(u,o)},!1),u.addEventListener("msfullscreenchange",function(){o=i(u,o)},!1),u.addEventListener("webkitendfullscreen",function(){u.pause()},!1);e.one(b,".progress",function(){n(u,"fastforward/rewind")})}catch(k){}})}function i(n,t){return t&&n.pause(),!t}function rt(n,t,i){if(!n.id)try{n.id=decodeURI(t.split("/").pop().split(".")[0])}catch(r){n.id=location.pathname+":"+i}}function v(n,t,i,r){i?(t.addClass("teaser"),i=n.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")?i[0]:i[1],typeof n.load=="function"&&(r||(r=t.find(".mp4").attr("src")),n.removeAttribute("controls"),n.src=i,n.loop=!0,n.load(),n.play())):n.load()}function ut(n,t,i,r,u){t&&!i&&(r.removeClass("teaser"),n.src=u,n.load())}function ft(t,i){if(i.length)$("body").on("HUGE.close",function(){t.pause(),i.hasClass("overlay")&&(i.removeClass("overlay"),n(t,"close"))})}function et(n){n.length&&(n.addClass("overlay"),HUGE.showOverlay(n))}function ot(n){n.length&&(n.removeClass("overlay engage"),n.find(".close").click())}function y(n){t&&(n.requestFullscreen?n.requestFullscreen():n.msRequestFullscreen?n.msRequestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():n.webkitEnterFullScreen&&n.webkitEnterFullscreen())}function st(n){n.exitFullscreen?n.exitFullscreen():n.msExitFullScreen?n.msExitFullScreen():n.mozCancelFullScreen?n.mozCancelFullScreen():n.webkitSupportsFullscreen&&n.webkitExitFullscreen()}function ht(n,t,i){var h=t.find(".plause")[0],r=t.find(".progress"),u=t.find(".progress .played"),c=t.find(".progress .loaded"),l=t.find(".time .current"),a=t.find(".time .duration"),f=!1,e=0,s=0;n.removeAttribute("controls"),h.addEventListener("click",function(){n.paused?n.play():n.pause()}),n.addEventListener("loadedmetadata",function(){a.html(p(n.duration))}),n.addEventListener("timeupdate",function(){e=ct(n,i,e,l),s=lt(n,i,s,u)}),n.addEventListener("progress",function(){if(n.buffered&&n.buffered.length&&n.buffered.end){var t=(100*n.buffered.end(0)/n.duration).toFixed(1);c.css("width",t+"%")}}),r.mousedown(function(t){f=!0,o(t.pageX,r,u,n)}),$(document).mouseup(function(t){f&&(f=!1,o(t.pageX,r,u,n),n.play())}),$(document).mousemove(function(t){f&&(n.pause(),o(t.pageX,r,u,n))})}function p(n,t){t=t||n;var i=Math.floor(n%60),r=Math.floor(n/60%60),u=Math.floor(n/3600),f=Math.floor(t/60%60),e=Math.floor(t/3600);return(isNaN(n)||n===Infinity)&&(u=r=i="-"),u=u>0||e>0?u+":":"",r=((u||f>=10)&&r<10?"0"+r:r)+":",i=i<10?"0"+i:i,u+r+i}function ct(t,i,r,u){var f=t.currentTime;return u.text(p(f)),(!i||i.indexOf(t.src)<0)&&$.each([{sec:5,triggered:!1}],function(i,u){r<u.sec&&f>u.sec&&!u.triggered&&(n(t,"time: "+u.sec+"s"),u.triggered=!0)}),f}function lt(t,i,r,u){var f=(100*t.currentTime/t.duration).toFixed(1);return u.css("width",f+"%"),(!i||i.indexOf(t.src)<0)&&$.each([25,50,75,90],function(i,u){r<u&&f>=u&&n(t,"percent: "+u+"%")}),f}function o(n,t,i,r){var f=n-t.offset().left,u=100*f/t.width();u=Math.min(100,u),u=Math.max(0,u),i.css("width",u+"%"),r.currentTime=r.duration*u/100}function at(){var n=document.querySelector("#mosaic .container");new Masonry(n,{columnWidth:320,itemSelector:".tile"})}function w(){function t(t){var i;$.each(["news"],function(r,u){var e=new RegExp(u,"i"),f=t.match(e);if(f!==null)return n+=1,i=f[0]+"LoadMoreClick"+n,HUGE.gaReportEvent(i),!1})}var n=0;$(".load").click(function(n){var r;if(n.preventDefault(),r=$(n.currentTarget),!$(this).hasClass("loading")){var f=$(this).attr("href"),u=$(this).data("target"),i=$(this).data("data"),e=$(this).addClass("loading");i||(i={page:1},$(this).data("data",i)),$.ajax({url:f,data:i}).done(function(n){var f=$(n).css({opacity:0});$(u).append(f),f.animate({opacity:1}),e.removeClass("loading"),i.page=i.page+1,$(this).data("data",i),window._nextpage||$(".load").hide(),r.trigger("load-more-done"),t(u)})}})}function vt(n){if(s){var f,t,e,i,r,u,o=$(n).data("gmt")||0,h=$(n).find(".hour"),c=$(n).find(".minute"),l=$(n).find(".second");f=o+(new Date).getUTCHours(),t=(new Date).getMinutes(),e=(new Date).getSeconds(),i=f*30+t/2,r=t*6,u=e*6,setInterval(function(){u+=6,r+=.1,i+=.008333333333,h.css({transform:"rotate("+i+"deg)"}),c.css({transform:"rotate("+r+"deg)"}),l.css({transform:"rotate("+u+"deg)"})},1e3)}}function yt(n){var r=new Date,f=$(n).data("gmt")||0,i,t,u;n&&setInterval(function(){(r=new Date,t!==r.getMinutes())&&(i=(f+r.getUTCHours()+24)%24,t=r.getMinutes(),t<10&&(t="0"+t),u=i==0?"12:"+t+" am":i==12?"12:"+t+" pm":i>12?i-12+":"+t+" pm":i+":"+t+" am",n.innerHTML=u)},1e3)}function pt(){$(window).one("scroll",function(){$("#top-overlap").addClass("scroll"),setTimeout(function(n){$(n).trigger("shift")},700,this)})}function wt(){var t=$("main"),i=$("aside"),n=144,r=i.find(".container > *");r.each(function(){n+=$(this).outerHeight(!0)}),n>t.height()&&t.height(n)}function b(n){r.push(n)}function bt(){for(var n=0;n<r.length;n++)r[n].call()}function kt(){var n=$(".detail").find(".formatting > :last-child");n.is("div")?dt(n):n.addClass("last")}function dt(n){n.hasClass("media")?n.prev().addClass("last"):n.find("> :first-child").is("ul")&&n.find("li:last-child").addClass("last")}function gt(){window.location.href.indexOf("client-services")<0&&(document.cookie="office=; expires=Thu, 01-Jan-70 00:00:01 GMT;")}function ni(){var n=$(".ie8 [placeholder], .ie9 [placeholder]");n.focus(function(){var n=$(this);n.val()==n.attr("placeholder")&&(n.val(""),n.removeClass("placeholder"))}).blur(function(){var n=$(this);(n.val()==""||n.val()==n.attr("placeholder"))&&(n.addClass("placeholder"),n.val(n.attr("placeholder")))}).blur(),n.parents("form").submit(function(){$(this).find("[placeholder]").each(function(){var n=$(this);n.val()==n.attr("placeholder")&&n.val("")})})}function ti(n,t,i){if(!(n.parents("."+t).length>0))for(var r=0;r<n.length;r+=i){if(n.length-r<i)break;try{n.slice(r,r+i).wrapAll("<div class="+t+"><\/div>")}catch(u){}}}function ii(n,t,i){var r;return function(){var u=this,f=arguments,e=function(){r=null,i||n.apply(u,f)},o=i&&!r;clearTimeout(r),r=setTimeout(e,t),o&&n.apply(u,f)}}var r=[],t=navigator.userAgent.match(/(iPad|iPhone|iPod|Android)/g),u=["iPad","iPhone","iPod","Android"],f=navigator.userAgent.match(/(iPad|iPhone|iPod)/g),s=function(){var n=function(){var n,i=document.createElement("fake"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",MSTransition:"msTransitionEnd",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(n in t)if(i.style[n]!==undefined)return t[n]}();return n&&{end:n}}();return{init:function(){window.console||(window.console={log:function(){}}),d(),nt(),c(),pt(),it(),w(),kt(),gt(),ni()},showOverlay:l,closeOverlay:e,share:tt,carousel:c,analogClock:vt,digitalClock:yt,mosaic:at,registerOrientationMethods:b,transitionSupport:s,getWindowHeight:h,equalizeHeights:wt,loadMore:w,isTouchDevice:t,iOSDevices:["iPad","iPhone"],gaReportEvent:k,debounce:ii,tableWrap:ti}}(),$(HUGE.init)